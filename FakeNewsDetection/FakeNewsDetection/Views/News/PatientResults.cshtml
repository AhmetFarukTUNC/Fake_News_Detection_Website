@model IEnumerable<FakeNewsMVC.Models.PredictionResult>

@{
    ViewData["Title"] = "Predictions Results";
}

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Roboto&display=swap" rel="stylesheet">

<div style="min-height:100vh; background: linear-gradient(135deg, #6d0eb5, #d500f9); padding:2rem; font-family:'Roboto', sans-serif;">
    <div style="background: rgba(255,255,255,0.95); padding:40px; border-radius:25px; box-shadow:0 20px 50px rgba(0,0,0,0.35); max-width:1200px; margin:auto;">
        <h2 style="font-family:'Montserrat', sans-serif; font-weight:800; color:#6d0eb5; text-align:center; margin-bottom:30px;">
            📊 Prediction Results
        </h2>

        <table style="width:100%; border-collapse:collapse; overflow:hidden; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15);">
            <thead>
                <tr style="background: linear-gradient(90deg, #6d0eb5, #d500f9); color:white; text-align:center;">
                    <th style="padding:15px;">#</th>
                    <th style="padding:15px;">User</th>
                    <th style="padding:15px;">News Text</th>
                    <th style="padding:15px;">Prediction</th>
                    <th style="padding:15px;">Confidence</th> <!-- Yeni kolon eklendi -->
                    <th style="padding:15px;">Created At</th>
                    <th style="padding:15px;">Delete Button</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null && Model.Any())
                {
                    int count = 1;
                    foreach (var item in Model)
                    {
                        <tr style="text-align:center; background:@(count % 2 == 0 ? "#f9f9f9" : "#ffffff"); transition:0.3s;">
                            <td style="padding:12px; font-weight:600;">@count</td>
                            <td style="padding:12px; font-weight:500; color:#6d0eb5;">
                                @item.User?.FullName
                            </td>
                            <td style="padding:12px; max-width:400px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" title="@item.Text">
                                @item.Text
                            </td>
                            <td style="padding:12px; font-weight:bold; color:@(item.Prediction == "Real News" ? "green" : "red");">
                                @item.Prediction
                            </td>
                            <td style="padding:12px; font-weight:500; color:#333;">
                                @item.Confidence
                            </td>
                            <td style="padding:12px;">@item.CreatedAt.ToString("dd.MM.yyyy HH:mm")</td>
                            <td style="padding:12px;">
                                <form asp-action="DeletePrediction" method="post" onsubmit="return confirm('Are you sure you want to delete this prediction?');">
                                    <input type="hidden" name="id" value="@item.Id" />
                                    <button type="submit" style="border:none; background:none; cursor:pointer;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-trash" viewBox="0 0 16 16">
                                            <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5v-7z" />
                                            <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                        </svg>
                                    </button>
                                </form>
                            </td>

                        </tr>
                        count++;
                    }
                }
                else
                {
                    <tr>
                        <td colspan="6" style="padding:20px; text-align:center; font-style:italic; color:gray;">
                            No predictions found.
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>
</div>
